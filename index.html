
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foundation for Sites</title>
    <link rel="stylesheet" href="assets/css/app.css">
<link rel="stylesheet" href="https://unpkg.com/carbon-components@10.47.0/css/carbon-components.min.css">
<script src="https://unpkg.com/carbon-components@10.47.0/scripts/carbon-components.min.js" defer></script>







  </head>
<body>

<div id="content-flow" class="content-flow-container hidden">
  <div class="content-flow-header">
    <h2>Explore usage and identify business logic – DB2-M-PREMIUM-INT</h2><br>
    <p>Select which variable usage you want to base the business rule on. Then review the generated business rule.</p>
    <ul class="bx--progress" data-progress>
  <!-- Step 1: Complete -->
   <button class="content-flow-close" aria-label="Close flow" hidden>×</button>
  <li class="bx--progress-step bx--progress-step--current">
    <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
  <defs>
    <style>
      .cls-1 {
        fill: none;
      }
    </style>
  </defs>
  <path d="M23.7642,6.8593l1.2851-1.5315A13.976,13.976,0,0,0,20.8672,2.887l-.6836,1.8776A11.9729,11.9729,0,0,1,23.7642,6.8593Z" transform="translate(0 0)"/>
  <path d="M27.81,14l1.9677-.4128A13.8888,13.8888,0,0,0,28.14,9.0457L26.4087,10A12.52,12.52,0,0,1,27.81,14Z" transform="translate(0 0)"/>
  <path d="M20.1836,27.2354l.6836,1.8776a13.976,13.976,0,0,0,4.1821-2.4408l-1.2851-1.5315A11.9729,11.9729,0,0,1,20.1836,27.2354Z" transform="translate(0 0)"/>
  <path d="M26.4087,22,28.14,23a14.14,14.14,0,0,0,1.6382-4.5872L27.81,18.0659A12.1519,12.1519,0,0,1,26.4087,22Z" transform="translate(0 0)"/>
  <path d="M16,30V2a14,14,0,0,0,0,28Z" transform="translate(0 0)"/>
  <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32" height="32"/>
</svg>

    <p tabindex="0" class="bx--progress-label">Step 1: Select variable usage<br><span class="step-text">This will be analyzed to generate a business rule</span></p>
    <div
      id="tooltip-step-1"
      role="tooltip"
      data-floating-menu-direction="bottom"
      class="bx--tooltip"
      data-avoid-focus-on-open>
      <span class="bx--tooltip__caret"></span>
      <p class="bx--tooltip__text">Step 1: First</p>
    </div>
    <span class="bx--progress-line"></span>
  </li>

  <!-- Step 2: Current -->
  <li class="bx--progress-step bx--progress-step--incomplete">
    <!--<svg id="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1{fill:#000000;}.cls-2{fill:none;}</style></defs><title>circle--dash</title><path class="cls-1" d="M7.7,4.7a14.7,14.7,0,0,0-3,3.1L6.3,9A13.26,13.26,0,0,1,8.9,6.3Z"/><path class="cls-1" d="M4.6,12.3l-1.9-.6A12.51,12.51,0,0,0,2,16H4A11.48,11.48,0,0,1,4.6,12.3Z"/><path class="cls-1" d="M2.7,20.4a14.4,14.4,0,0,0,2,3.9l1.6-1.2a12.89,12.89,0,0,1-1.7-3.3Z"/><path class="cls-1" d="M7.8,27.3a14.4,14.4,0,0,0,3.9,2l.6-1.9A12.89,12.89,0,0,1,9,25.7Z"/><path class="cls-1" d="M11.7,2.7l.6,1.9A11.48,11.48,0,0,1,16,4V2A12.51,12.51,0,0,0,11.7,2.7Z"/><path class="cls-1" d="M24.2,27.3a15.18,15.18,0,0,0,3.1-3.1L25.7,23A11.53,11.53,0,0,1,23,25.7Z"/><path class="cls-1" d="M27.4,19.7l1.9.6A15.47,15.47,0,0,0,30,16H28A11.48,11.48,0,0,1,27.4,19.7Z"/><path class="cls-1" d="M29.2,11.6a14.4,14.4,0,0,0-2-3.9L25.6,8.9a12.89,12.89,0,0,1,1.7,3.3Z"/><path class="cls-1" d="M24.1,4.6a14.4,14.4,0,0,0-3.9-2l-.6,1.9a12.89,12.89,0,0,1,3.3,1.7Z"/><path class="cls-1" d="M20.3,29.3l-.6-1.9A11.48,11.48,0,0,1,16,28v2A21.42,21.42,0,0,0,20.3,29.3Z"/><rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-2" width="32" height="32"/></svg>-->
    <p
      tabindex="0"
      class="bx--progress-label"
      aria-describedby="tooltip-step-2">
      Step 2: Review generated rule<br><span class="step-text">Edit and save the business rule</span>
    </p>
    <div
      id="tooltip-step-2"
      role="tooltip"
      data-floating-menu-direction="bottom"
      class="bx--tooltip"
      data-avoid-focus-on-open>
      <span class="bx--tooltip__caret"></span>
      <p class="bx--tooltip__text">Step 2: In Progress</p>
    </div>
    <span class="bx--progress-line"></span>
  </li>
</ul>
    
  </div>
  <div class="content-flow-body">
    <!-- Insert actual content flow UI or placeholder content here -->
    <div class="flow-content medium-cell-block-container"><pre>
        
        
        001       ******************************************************************
        002       *                                                                
        003       * LICENSED MATERIALS - PROPERTY OF IBM                           
        004       *                                                                
        005       * "RESTRICTED MATERIALS OF IBM"                                  
        006       *                                                                
        007       * CB12                                                           
        008       *                                                                
        009       * (C) COPYRIGHT IBM CORP. 2011, 2013 ALL RIGHTS RESERVED         
        010       *                                                                
        011       * US GOVERNMENT USERS RESTRICTED RIGHTS - USE, DUPLICATION,      
        012       * OR DISCLOSURE RESTRICTED BY GSA ADP SCHEDULE                   
        013       * CONTRACT WITH IBM CORPORATION                                  
        014       *                                                                
        015       *                                                                
        016       *                     UPDATE policy details                      
        017       *                                                                
        018       *                                                                
        019       *                                                                
        020       *                                                                
        021       *                                                                
        022       ******************************************************************
        023        IDENTIFICATION DIVISION.
        024        PROGRAM-ID. LGUPDB01.
        025        ENVIRONMENT DIVISION.
        026        CONFIGURATION SECTION.
        027       *
        028        DATA DIVISION.
        029 
        030        WORKING-STORAGE SECTION.
        031 
        032       *----------------------------------------------------------------*
        033       * Common defintions                                              
        034       *----------------------------------------------------------------*
        035       * Run time (debug) infomation for this invocation
        036         01  WS-HEADER.
        037            03 WS-EYECATCHER            PIC X(16)
        038                                         VALUE 'LGUPDB01------WS'.
        039            03 WS-TRANSID               PIC X(4).
        040            03 WS-TERMID                PIC X(4).
        041            03 WS-TASKNUM               PIC 9(7).
        042            03 WS-FILLER                PIC X.
        043            03 WS-ADDR-DFHCOMMAREA      USAGE is POINTER.
        044            03 WS-CALEN                 PIC S9(4) COMP.
        045            03 WS-RETRY                 PIC X.
        046 
        047       * Variables for time/date processing
        048        01  WS-ABSTIME                  PIC S9(8) COMP VALUE +0.
        049        01  WS-TIME                     PIC X(8)  VALUE SPACES.
        050        01  WS-DATE                     PIC X(10) VALUE SPACES.
        051        01  WS-CA-DT                    PIC X(10).
        052        01  WS-CA-DT-TMP    REDEFINES   WS-CA-DT.
        053            03 WS-YEAR-C                PIC 9(4).
        054            03 FILLER                   PIC X(1).
        055            03 WS-MONTH-C               PIC 9(2).
        056            03 FILLER                   PIC X(1).
        057            03 WS-DATE-C                PIC 9(2).
        058        01  WS-CA-DT-INT                PIC 9(8).
        059        01  WS-TODAY                    PIC X(8).
        060        01  WS-TODAY-INT    REDEFINES WS-TODAY.
        061            03 WS-YEAR-T                PIC 9(4).
        062            03 WS-MONTH-T               PIC 9(2).
        063            03 WS-DATE-T                PIC 9(2).
        064        01  WS-AGE-CALC                 PIC 9(3).
        065 
        066       * Error Message structure
        067        01  ERROR-MSG.
        068            03 EM-DATE                  PIC X(8)  VALUE SPACES.
        069            03 FILLER                   PIC X     VALUE SPACES.
        070            03 EM-TIME                  PIC X(6)  VALUE SPACES.
        071            03 FILLER                   PIC X(9)  VALUE ' LGUPDB01'.
        072            03 EM-VARIABLE.
        073              05 FILLER                 PIC X(6)  VALUE ' CNUM='.
        074              05 EM-CUSNUM              PIC X(10)  VALUE SPACES.
        075              05 FILLER                 PIC X(6)  VALUE ' PNUM='.
        076              05 EM-POLNUM              PIC X(10)  VALUE SPACES.
        077              05 EM-SQLREQ              PIC X(16) VALUE SPACES.
        078              05 FILLER                 PIC X(9)  VALUE ' SQLCODE='.
        079              05 EM-SQLRC               PIC +9(5) USAGE DISPLAY.
        080 
        081        01  CA-ERROR-MSG.
        082            03 FILLER                   PIC X(9)  VALUE 'COMMAREA='.
        083            03 CA-DATA                  PIC X(90) VALUE SPACES.
        084       *----------------------------------------------------------------*
        085 
        086       *----------------------------------------------------------------*
        087       * Definitions required for data manipulation                     
        088       *----------------------------------------------------------------*
        089       * Fields to be used to calculate minimum commarea length required
        090       * (for Endowment this does not allow for VARCHAR)
        091        01  WS-COMMAREA-LENGTHS.
        092            03 WS-CA-HEADER-LEN         PIC S9(4) COMP VALUE +28.
        093            03 WS-REQUIRED-CA-LEN       PIC S9(4) COMP VALUE +0.
        094 
        095       * Define a WS-VARYing length character string to contain actual
        096       * amount of data that will be updated in Varchar field
        097        01 WS-VARY-FIELD.
        098           49 WS-VARY-LEN               PIC S9(4) COMP.
        099           49 WS-VARY-CHAR              PIC X(3900).
        100 
        101       *----------------------------------------------------------------*
        102 
        103       *----------------------------------------------------------------*
        104       * Definitions required by SQL statement                          *
        105       *   DB2 datatypes to COBOL equivalents                           *
        106       *     SMALLINT    :   PIC S9(4) COMP                             *
        107       *     INTEGER     :   PIC S9(9) COMP                             *
        108       *     DATE        :   PIC X(10)                                  *
        109       *     TIMESTAMP   :   PIC X(26)                                  *
        110       *----------------------------------------------------------------*
        111       * Host variables for input to DB2 integer types
        112       * Any values specified in SQL stmts must be defined here so
        113       * available to SQL pre-compiler
        114        01 DB2-IN-INTEGERS.
        115           03 DB2-CUSTOMERNUM-INT       PIC S9(9) COMP.
        116           03 DB2-POLICYNUM-INT         PIC S9(9) COMP.
        117           03 DB2-BROKERID-INT          PIC S9(9) COMP.
        118           03 DB2-PAYMENT-INT           PIC S9(9) COMP.
        119           03 DB2-E-TERM-SINT           PIC S9(4) COMP.
        120           03 DB2-E-SUMASSURED-INT      PIC S9(9) COMP.
        121           03 DB2-H-BEDROOMS-SINT       PIC S9(4) COMP.
        122           03 DB2-H-VALUE-INT           PIC S9(9) COMP.
        123           03 DB2-M-VALUE-INT           PIC S9(9) COMP.
        124           03 DB2-M-CC-SINT             PIC S9(4) COMP.
        125           03 <span class="variable"> DB2-M-PREMIUM-INT </span>        PIC S9(9) COMP.
        126           03 DB2-M-ACCIDENTS-INT       PIC S9(9) COMP.
        127 
        128       *  Host variables to store result of DB2 Fetch
        129       *  Must be an SQL INCLUDE so available to SQL pre-compiler
        130            EXEC SQL
        131              INCLUDE LGPOLICY
        132            END-EXEC.
        133 
        134       * Indicator variables for columns which could return nulls
        135       *   if these are not specified and SQL FETCH tries to return
        136       *   null value for a listed column it will FAIL with SQLCODE=
        137        77  IND-BROKERID                PIC S9(4) COMP.
        138        77  IND-BROKERSREF              PIC S9(4) COMP.
        139        77  IND-PAYMENT                 PIC S9(4) COMP.
        140        77  LGUPVS01                    Pic X(8) value 'LGUPVS01'.
        141       *----------------------------------------------------------------*
        142 
        143       *----------------------------------------------------------------*
        144       *    DB2 CONTROL
        145       *----------------------------------------------------------------*
        146       * SQLCA DB2 communications area
        147            EXEC SQL
        148              INCLUDE SQLCA
        149            END-EXEC.
        150 
        151       *----------------------------------------------------------------*
        152       * Declare Cursors
        153       *----------------------------------------------------------------*
        154       * Cursor to select details from policy table (with lock)
        155       * will NOT update payment or commission fields
        156            EXEC SQL
        157              DECLARE POLICY_CURSOR CURSOR WITH HOLD FOR
        158                SELECT ISSUEDATE,
        159                       EXPIRYDATE,
        160                       LASTCHANGED,
        161                       BROKERID,
        162                       BROKERSREFERENCE
        163                FROM POLICY
        164                WHERE ( CUSTOMERNUMBER = :DB2-CUSTOMERNUM-INT AND
        165                        POLICYNUMBER = :DB2-POLICYNUM-INT )
        166                FOR UPDATE OF ISSUEDATE,
        167                              EXPIRYDATE,
        168                              LASTCHANGED,
        169                              BROKERID,
        170                              BROKERSREFERENCE
        171            END-EXEC.
        172 
        173       ******************************************************************
        174       *    L I N K A G E     S E C T I O N
        175       ******************************************************************
        176        LINKAGE SECTION.
        177 
        178        01  DFHCOMMAREA.
        179            EXEC SQL
        180              INCLUDE LGCMAREA
        181            END-EXEC.
        182 
        183 
        184       ******************************************************************
        185       *    P R O C E D U R E S
        186       ******************************************************************
        187        PROCEDURE DIVISION.
        188 
        189       *----------------------------------------------------------------*
        190        MAINLINE SECTION.
        191 
        192       *----------------------------------------------------------------*
        193       * Common code                                                    
        194       *----------------------------------------------------------------*
        195       * initialize working storage variables
        196            INITIALIZE WS-HEADER.
        197       * set up general variable
        198            MOVE EIBTRNID TO WS-TRANSID.
        199            MOVE EIBTRMID TO WS-TERMID.
        200            MOVE EIBTASKN TO WS-TASKNUM.
        201            MOVE SPACES   TO WS-RETRY.
        202       *----------------------------------------------------------------*
        203       * initialize DB2 host variables
        204            INITIALIZE DB2-POLICY.
        205            INITIALIZE DB2-IN-INTEGERS.
        206 
        207       *----------------------------------------------------------------*
        208       * Check commarea and obtain required details                     
        209       *----------------------------------------------------------------*
        210       * If NO commarea received issue an ABEND
        211            IF EIBCALEN IS EQUAL TO ZERO
        212                MOVE ' NO COMMAREA RECEIVED' TO EM-VARIABLE
        213                PERFORM WRITE-ERROR-MESSAGE
        214                EXEC CICS ABEND ABCODE('LGCA') NODUMP END-EXEC
        215            END-IF
        216 
        217       * initialize commarea return code to zero
        218            MOVE '00' TO CA-RETURN-CODE
        219            MOVE EIBCALEN TO WS-CALEN.
        220            SET WS-ADDR-DFHCOMMAREA TO ADDRESS OF DFHCOMMAREA.
        221 
        222       * Convert commarea customer & policy nums to DB2 integer format
        223            MOVE CA-CUSTOMER-NUM TO DB2-CUSTOMERNUM-INT
        224            MOVE CA-POLICY-NUM   TO DB2-POLICYNUM-INT
        225       * and save in error msg field incase required
        226            MOVE CA-CUSTOMER-NUM TO EM-CUSNUM
        227            MOVE CA-POLICY-NUM   TO EM-POLNUM
        228 
        229       *----------------------------------------------------------------*
        230       * Check which policy type is being requested                     
        231       *   and chec commarea length                                     
        232       *----------------------------------------------------------------*
        233 
        234       *    Call procedure to update required tables
        235            PERFORM UPDATE-POLICY-DB2-INFO.
        236 
        237            EXEC CICS LINK Program(LGUPVS01)
        238                 Commarea(DFHCOMMAREA)
        239                 LENGTH(225)
        240            END-EXEC.
        241 
        242       * Return to caller
        243        END-PROGRAM.
        244            EXEC CICS RETURN END-EXEC.
        245 
        246        MAINLINE-EXIT.
        247            EXIT.
        248       *----------------------------------------------------------------*
        249 
        250       *================================================================*
        251       * Fetch a row from Policy tables using POLICY-CURSOR             *
        252       *   Host variables specified on INTO statement must correspond   *
        253       *   in order and size to columns specified on SELECT statement   *
        254       *   in CURSOR defintion.                                         *
        255       *================================================================*
        256        FETCH-DB2-POLICY-ROW.
        257            MOVE ' FETCH  ROW   ' TO EM-SQLREQ
        258            EXEC SQL
        259              FETCH POLICY_CURSOR
        260              INTO  :DB2-ISSUEDATE,
        261                    :DB2-EXPIRYDATE,
        262                    :DB2-LASTCHANGED,
        263                    :DB2-BROKERID-INT INDICATOR :IND-BROKERID,
        264                    :DB2-BROKERSREF INDICATOR :IND-BROKERSREF,
        265                    :DB2-PAYMENT-INT INDICATOR :IND-PAYMENT
        266            END-EXEC
        267            EXIT.
        268 
        269       *================================================================*
        270       * 1) Use SELECT FOR UPDATE to obtain a lock on the row in the    *
        271       *    policy table, check that Timestamp in database matches that *
        272       *    received in commarea:                                       *
        273       * 2a) if not: unlock DB2 record, abandon update & return to user *
        274       * 2b) if match: update policy specific table with data from      *
        275       *     commarea                                                   *
        276       * 3) update policy table with data from commarea and new         *
        277       *    timestamp (which releases row lock on policy table)         *
        278       *================================================================*
        279        UPDATE-POLICY-DB2-INFO.
        280 
        281       *    Open the cursor.
        282            MOVE ' OPEN   PCURSOR ' TO EM-SQLREQ
        283            EXEC SQL
        284              OPEN POLICY_CURSOR
        285            END-EXEC
        286 
        287            Evaluate SQLCODE
        288              When 0
        289                MOVE '00' TO CA-RETURN-CODE
        290              When -913
        291                MOVE '90' TO CA-RETURN-CODE
        292                PERFORM WRITE-ERROR-MESSAGE
        293                EXEC CICS RETURN END-EXEC
        294              When Other
        295                MOVE '90' TO CA-RETURN-CODE
        296                PERFORM WRITE-ERROR-MESSAGE
        297                EXEC CICS RETURN END-EXEC
        298            END-Evaluate.
        299 
        300       *    Fetch the first row (we only expect one matching row)
        301            PERFORM FETCH-DB2-POLICY-ROW
        302 
        303            IF SQLCODE = 0
        304       *      Fetch was successful
        305       *      Compare timestamp in commarea with that in DB2
        306              IF CA-LASTCHANGED EQUAL TO DB2-LASTCHANGED
        307 
        308       *----------------------------------------------------------------*
        309       *      Select for Update and Update specific policy type table   
        310       *----------------------------------------------------------------*
        311              EVALUATE CA-REQUEST-ID
        312 
        313       *** Endowment ***
        314                WHEN '01UEND'
        315       *          Call routine to update Endowment table
        316                  PERFORM UPDATE-ENDOW-DB2-INFO
        317 
        318       *** House ***
        319                WHEN '01UHOU'
        320       *          Call routine to update Housetable
        321                  PERFORM UPDATE-HOUSE-DB2-INFO
        322 
        323       *** Motor ***
        324                WHEN '01UMOT'
        325       *          Call routine to update Motor table
        326                  PERFORM UPDATE-MOTOR-DB2-INFO
        327 
        328              END-EVALUATE
        329       *----------------------------------------------------------------*
        330               IF CA-RETURN-CODE NOT EQUAL '00'
        331       *         Update policy type specific table has failed
        332       *         So close cursor and return
        333                 PERFORM CLOSE-PCURSOR
        334                 EXEC CICS RETURN END-EXEC
        335               END-IF
        336 
        337       *----------------------------------------------------------------*
        338       *        Now update Policy table and set new timestamp           
        339       *----------------------------------------------------------------*
        340       *        Move numeric commarea fields to integer format
        341                MOVE CA-BROKERID      TO DB2-BROKERID-INT
        342                MOVE CA-PAYMENT       TO DB2-PAYMENT-INT
        343 
        344       *        Update policy table details
        345                MOVE ' UPDATE POLICY  ' TO EM-SQLREQ
        346                EXEC SQL
        347                  UPDATE POLICY
        348                    SET ISSUEDATE        = :CA-ISSUE-DATE,
        349                        EXPIRYDATE       = :CA-EXPIRY-DATE,
        350                        LASTCHANGED      = CURRENT TIMESTAMP ,
        351                        BROKERID         = :DB2-BROKERID-INT,
        352                        BROKERSREFERENCE = :CA-BROKERSREF
        353                    WHERE CURRENT OF POLICY_CURSOR
        354                END-EXEC
        355 
        356       *        get value of assigned Timestamp for return in commarea
        357                EXEC SQL
        358                  SELECT LASTCHANGED
        359                    INTO :CA-LASTCHANGED
        360                    FROM POLICY
        361                    WHERE POLICYNUMBER = :DB2-POLICYNUM-INT
        362                END-EXEC
        363 
        364                IF SQLCODE NOT EQUAL 0
        365       *          Non-zero SQLCODE from Update of policy table
        366                    EXEC CICS SYNCPOINT ROLLBACK END-EXEC
        367                    MOVE '90' TO CA-RETURN-CODE
        368       *            Write error message to TD QUEUE(CSMT)
        369                    PERFORM WRITE-ERROR-MESSAGE
        370                END-IF
        371 
        372              ELSE
        373       *        Timestamps do not match (policy table v commarea)
        374                MOVE '02' TO CA-RETURN-CODE
        375              END-IF
        376 
        377            ELSE
        378       *      Non-zero SQLCODE from first SQL FETCH statement
        379              IF SQLCODE EQUAL 100
        380                MOVE '01' TO CA-RETURN-CODE
        381              ELSE
        382                MOVE '90' TO CA-RETURN-CODE
        383       *        Write error message to TD QUEUE(CSMT)
        384                PERFORM WRITE-ERROR-MESSAGE
        385              END-IF
        386            END-IF.
        387       *    Now close the Cursor and we're done!
        388            PERFORM CLOSE-PCURSOR.
        389 
        390        CLOSE-PCURSOR.
        391       *    Now close the Cursor and we're done!
        392            MOVE ' CLOSE  PCURSOR' TO EM-SQLREQ
        393            EXEC SQL
        394              CLOSE POLICY_CURSOR
        395            END-EXEC.
        396 
        397            Evaluate SQLCODE
        398              When 0
        399                MOVE '00' TO CA-RETURN-CODE
        400              When -501
        401                MOVE '00' TO CA-RETURN-CODE
        402                MOVE '-501 detected c' TO EM-SQLREQ
        403                EXEC CICS RETURN END-EXEC
        404              When Other
        405                MOVE '90' TO CA-RETURN-CODE
        406                PERFORM WRITE-ERROR-MESSAGE
        407                EXEC CICS RETURN END-EXEC
        408            END-Evaluate.
        409            EXIT.
        410 
        411       *================================================================*
        412       * Update row in Endowment table which matches customer and       *
        413       * policy number requested.                                       *
        414       *================================================================*
        415        UPDATE-ENDOW-DB2-INFO.
        416 
        417       *    Move numeric commarea fields to DB2 Integer formats
        418            MOVE CA-E-TERM        TO DB2-E-TERM-SINT
        419            MOVE CA-E-SUM-ASSURED TO DB2-E-SUMASSURED-INT
        420 
        421       *----------------------------------------------------------------*
        422       *    There are 2 versions of UPDATE...                           *
        423       *      one which updates all fields including Varchar            *
        424       *      one which updates all fields Except Varchar               *
        425       *----------------------------------------------------------------*
        426            MOVE ' UPDATE ENDOW ' TO EM-SQLREQ
        427       *    Calculate length of varchar if any
        428       *    this will be eibcalen minus required ca-length
        429            SUBTRACT WS-REQUIRED-CA-LEN FROM EIBCALEN
        430               GIVING WS-VARY-LEN
        431 
        432       *     Use case -1 starts here
        433       *     Adjust Equities for Endowment Policies Based on
        434       *     Customer Age
        435            EXEC SQL
        436                  SELECT DATEOFBIRTH
        437                     INTO :CA-DOB
        438                  FROM CUSTOMER
        439                  WHERE CUSTOMERNUMBER = :DB2-CUSTOMERNUM-INT
        440            END-EXEC
        441 
        442            IF SQLCODE = 0 THEN
        443               MOVE CA-DOB            TO WS-CA-DT
        444               MOVE FUNCTION CURRENT-DATE (1:8) TO WS-TODAY
        445               COMPUTE WS-AGE-CALC = WS-YEAR-T - WS-YEAR-C
        446               IF (WS-MONTH-T < WS-MONTH-C)
        447                OR (WS-MONTH-T = WS-MONTH-C AND WS-DATE-T < WS-DATE-C)
        448                  SUBTRACT 1 FROM WS-AGE-CALC
        449               END-IF
        450               IF WS-AGE-CALC > 50 THEN
        451                 MOVE 'N'   TO CA-E-EQUITIES
        452                 MOVE 'Y'   TO CA-E-MANAGED-FUND
        453               END-IF
        454            END-IF
        455       *     Use case -1 Ends here
        456 
        457            IF WS-VARY-LEN IS GREATER THAN ZERO
        458       *      Commarea contains data for Varchar field
        459              MOVE CA-E-PADDING-DATA
        460                  TO WS-VARY-CHAR(1:WS-VARY-LEN)
        461              EXEC SQL
        462                UPDATE ENDOWMENT
        463                  SET
        464                    WITHPROFITS   = :CA-E-WITH-PROFITS,
        465                      EQUITIES    = :CA-E-EQUITIES,
        466                      MANAGEDFUND = :CA-E-MANAGED-FUND,
        467                      FUNDNAME    = :CA-E-FUND-NAME,
        468                      TERM        = :DB2-E-TERM-SINT,
        469                      SUMASSURED  = :DB2-E-SUMASSURED-INT,
        470                      LIFEASSURED = :CA-E-LIFE-ASSURED
        471       *---> STEW     PADDINGDATA = :WS-VARY-FIELD
        472                  WHERE
        473                      POLICYNUMBER = :DB2-POLICYNUM-INT
        474              END-EXEC
        475            ELSE
        476              EXEC SQL
        477                UPDATE ENDOWMENT
        478                  SET
        479                    WITHPROFITS   = :CA-E-WITH-PROFITS,
        480                      EQUITIES    = :CA-E-EQUITIES,
        481                      MANAGEDFUND = :CA-E-MANAGED-FUND,
        482                      FUNDNAME    = :CA-E-FUND-NAME,
        483                      TERM        = :DB2-E-TERM-SINT,
        484                      SUMASSURED  = :DB2-E-SUMASSURED-INT,
        485                      LIFEASSURED = :CA-E-LIFE-ASSURED
        486                  WHERE
        487                      POLICYNUMBER = :DB2-POLICYNUM-INT
        488              END-EXEC
        489       *    END-IF
        490 
        491            IF SQLCODE NOT EQUAL 0
        492       *      Non-zero SQLCODE from UPDATE statement
        493              IF SQLCODE EQUAL 100
        494                MOVE '01' TO CA-RETURN-CODE
        495              ELSE
        496                MOVE '90' TO CA-RETURN-CODE
        497       *        Write error message to TD QUEUE(CSMT)
        498                PERFORM WRITE-ERROR-MESSAGE
        499              END-IF
        500            END-IF.
        501            EXIT.
        502 
        503       *================================================================*
        504       * Update row in House table which matches customer and           *
        505       * policy number requested.                                       *
        506       *================================================================*
        507        UPDATE-HOUSE-DB2-INFO.
        508 
        509       *    Move numeric commarea fields to DB2 Integer formats
        510            MOVE CA-H-BEDROOMS    TO DB2-H-BEDROOMS-SINT
        511            MOVE CA-H-VALUE       TO DB2-H-VALUE-INT
        512 
        513            MOVE ' UPDATE HOUSE ' TO EM-SQLREQ
        514            EXEC SQL
        515              UPDATE HOUSE
        516                SET
        517                     PROPERTYTYPE = :CA-H-PROPERTY-TYPE,
        518                     BEDROOMS     = :DB2-H-BEDROOMS-SINT,
        519                     VALUE        = :DB2-H-VALUE-INT,
        520                     HOUSENAME    = :CA-H-HOUSE-NAME,
        521                     HOUSENUMBER  = :CA-H-HOUSE-NUMBER,
        522                     POSTCODE     = :CA-H-POSTCODE
        523                WHERE
        524                     POLICYNUMBER = :DB2-POLICYNUM-INT
        525            END-EXEC
        526 
        527            IF SQLCODE NOT EQUAL 0
        528       *      Non-zero SQLCODE from UPDATE statement
        529              IF SQLCODE = 100
        530                MOVE '01' TO CA-RETURN-CODE
        531              ELSE
        532                MOVE '01' TO CA-RETURN-CODE
        533       *        Write error message to TD QUEUE(CSMT)
        534                PERFORM WRITE-ERROR-MESSAGE
        535              END-IF
        536            END-IF.
        537            EXIT.
        538 
        539       *================================================================*
        540       * Update row in Motor table which matches customer and           *
        541       * policy number requested.                                       *
        542       *================================================================*
        543        UPDATE-MOTOR-DB2-INFO.
        544 
        545       *    Move numeric commarea fields to DB2 Integer formats
        546            MOVE CA-M-CC          TO DB2-M-CC-SINT
        547            MOVE CA-M-VALUE       TO DB2-M-VALUE-INT
        548 
        <span id="code2" class="code-block-highlite">549            IF CA-M-ACCIDENTS <= 2                                                                
        550             COMPUTE CA-M-PREMIUM = CA-M-PREMIUM * 1.                   
        551            IF CA-M-ACCIDENTS > 2 AND <= 5                                                
        552             COMPUTE CA-M-PREMIUM = CA-M-PREMIUM * 1.20.             
        553            IF CA-M-ACCIDENTS > 5 AND <= 8                                                
        554             COMPUTE CA-M-PREMIUM = CA-M-PREMIUM * 1.50.             
        555            IF CA-M-ACCIDENTS > 8                                                                   
        556             COMPUTE CA-M-PREMIUM = CA-M-PREMIUM * 2.                   
        557 </span>
        558            MOVE CA-M-PREMIUM      TO<span class="variable"> DB2-M-PREMIUM-INT </span>
        559            MOVE CA-M-ACCIDENTS   TO DB2-M-ACCIDENTS-INT
        560 
        561       *     Use case -2 starts here
        562       *     Adjust Premium Based on Vehicle Age
        563            MOVE CA-M-MANUFACTURED TO WS-CA-DT
        564            MOVE FUNCTION CURRENT-DATE (1:8) TO WS-TODAY
        <span id="code1" class="code-block-highlite">565            IF (WS-YEAR-T - WS-YEAR-C) > 10  THEN                                  
        566               COMPUTE DB2-M-PREMIUM-INT =                                           
        567                  (DB2-M-PREMIUM-INT - (DB2-M-PREMIUM-INT * 0.15))
        568            END-IF</span>
        569       *     Use case -2 Ends here
        570 
        571            MOVE ' UPDATE MOTOR ' TO EM-SQLREQ
        572            EXEC SQL
        573              UPDATE MOTOR
        574                SET
        575                     MAKE              = :CA-M-MAKE,
        576                     MODEL             = :CA-M-MODEL,
        577                     VALUE             = :DB2-M-VALUE-INT,
        578                     REGNUMBER         = :CA-M-REGNUMBER,
        579                     COLOUR            = :CA-M-COLOUR,
        580                     CC                = :DB2-M-CC-SINT,
        581                     YEAROFMANUFACTURE = :CA-M-MANUFACTURED,
        582                     PREMIUM           = :<span class="variable"> DB2-M-PREMIUM-INT </span>,
        583                     ACCIDENTS         = :DB2-M-ACCIDENTS-INT
        584                WHERE
        585                     POLICYNUMBER      = :DB2-POLICYNUM-INT
        586            END-EXEC
        587 
        588            IF SQLCODE NOT EQUAL 0
        589       *      Non-zero SQLCODE from UPDATE statement
        590              IF SQLCODE EQUAL 100
        591                MOVE '01' TO CA-RETURN-CODE
        592              ELSE
        593                MOVE '90' TO CA-RETURN-CODE
        594       *        Write error message to TD QUEUE(CSMT)
        595                PERFORM WRITE-ERROR-MESSAGE
        596              END-IF
        597            END-IF.
        598            EXIT.
        599 
        600       *================================================================*
        601       * Procedure to write error message to Queues                     *
        602       *   message will include Date, Time, Program Name, Customer      *
        603       *   Number, Policy Number and SQLCODE.                           *
        604       *================================================================*
        605        WRITE-ERROR-MESSAGE.
        606       * Save SQLCODE in message
        607            MOVE SQLCODE TO EM-SQLRC
        608       * Obtain and format current time and date
        609            EXEC CICS ASKTIME ABSTIME(WS-ABSTIME)
        610            END-EXEC
        611            EXEC CICS FORMATTIME ABSTIME(WS-ABSTIME)
        612                      MMDDYYYY(WS-DATE)
        613                      TIME(WS-TIME)
        614            END-EXEC
        615            MOVE WS-DATE TO EM-DATE
        616            MOVE WS-TIME TO EM-TIME
        617       * Write output message to TDQ
        618            EXEC CICS LINK PROGRAM('LGSTSQ')
        619                      COMMAREA(ERROR-MSG)
        620                      LENGTH(LENGTH OF ERROR-MSG)
        621            END-EXEC.
        622       * Write 90 bytes or as much as we have of commarea to TDQ
        623            IF EIBCALEN > 0 THEN
        624              IF EIBCALEN < 91 THEN
        625                MOVE DFHCOMMAREA(1:EIBCALEN) TO CA-DATA
        626                EXEC CICS LINK PROGRAM('LGSTSQ')
        627                          COMMAREA(CA-ERROR-MSG)
        628                          LENGTH(LENGTH OF CA-ERROR-MSG)
        629                END-EXEC
        630              ELSE
        631                MOVE DFHCOMMAREA(1:90) TO CA-DATA
        632                EXEC CICS LINK PROGRAM('LGSTSQ')
        633                          COMMAREA(CA-ERROR-MSG)
        634                          LENGTH(LENGTH OF CA-ERROR-MSG)
        635                END-EXEC
        636              END-IF
        637            END-IF.
        638            EXIT.        

</pre></div>
    <div class="right-menu">
        <div class="header-menu">Select a variable usage <span class="bx--tag bx--tag--gray">
  <span class="bx--tag__label">2</span></span></div>
  

  <div class="bx--radio-button-wrapper">
    <input id="radio-1" class="bx--radio-button" type="radio" value="565-568" name="variable-usage" checked>
    <label for="radio-1" class="bx--radio-button__label">
      <span class="bx--radio-button__appearance"></span>
      <span class="bx--radio-button__label-text">
        565-568<br>
        <small>LGACDB01.cbl</small>
      </span>
    </label>
  </div>
  
  <div class="bx--radio-button-wrapper">
    <input id="radio-2" class="bx--radio-button" type="radio" value="549-557" name="variable-usage">
    <label for="radio-2" class="bx--radio-button__label">
      <span class="bx--radio-button__appearance"></span>
      <span class="bx--radio-button__label-text">
        549-557<br>
        <small>LGACDB01.cbl</small>
      </span>
    </label>
  </div>





  
    </div>
  </div>
  <div class="content-footer">
    <div class="flow__cancel"> 
        <button class="bx--btn bx--btn--ghost content-flow-close" aria-label="Close flow">Cancel</button></div>
  <div class="flow_footer">
    <button class="bx--btn bx--btn--primary" type="button">
  Next
</button>
    <button class="bx--btn bx--btn--disabled" type="button">
  Previous
</button></div>
  </div>
</div>
<div id="rule-draft" class="content-flow-container hidden">
  <div class="content-flow-header">
    <h2>Explore usage and identify business logic – DB2-M-PREMIUM-INT2</h2><br>
    <p>Select which variable usage you want to base the business rule on. Then review the generated business rule.</p>
    <ul class="bx--progress" data-progress>
      <!-- Step 1: Complete -->
      <button class="content-flow-close" aria-label="Close flow" hidden>×</button>
      <li class="bx--progress-step bx--progress-step--complete  ">
        <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
          <defs>
            <style>
              .cls-1 {
                fill: none;
              }
            </style>
          </defs>
          <path
            d="M23.7642,6.8593l1.2851-1.5315A13.976,13.976,0,0,0,20.8672,2.887l-.6836,1.8776A11.9729,11.9729,0,0,1,23.7642,6.8593Z"
            transform="translate(0 0)" />
          <path d="M27.81,14l1.9677-.4128A13.8888,13.8888,0,0,0,28.14,9.0457L26.4087,10A12.52,12.52,0,0,1,27.81,14Z"
            transform="translate(0 0)" />
          <path
            d="M20.1836,27.2354l.6836,1.8776a13.976,13.976,0,0,0,4.1821-2.4408l-1.2851-1.5315A11.9729,11.9729,0,0,1,20.1836,27.2354Z"
            transform="translate(0 0)" />
          <path d="M26.4087,22,28.14,23a14.14,14.14,0,0,0,1.6382-4.5872L27.81,18.0659A12.1519,12.1519,0,0,1,26.4087,22Z"
            transform="translate(0 0)" />
          <path d="M16,30V2a14,14,0,0,0,0,28Z" transform="translate(0 0)" />
          <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32"
            height="32" />
        </svg>

        <p tabindex="0" class="bx--progress-label">Step 1: Select variable usage<br><span class="step-text">This will be
            analyzed to generate a business rule</span></p>
        <div id="tooltip-step-1" role="tooltip" data-floating-menu-direction="bottom" class="bx--tooltip"
          data-avoid-focus-on-open>
          <span class="bx--tooltip__caret"></span>
          <p class="bx--tooltip__text">Step 1: First</p>
        </div>
        <span class="bx--progress-line"></span>
      </li>

      <!-- Step 2: Current -->
      <li class="bx--progress-step bx--progress-step--current">
        <!--<svg id="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1{fill:#000000;}.cls-2{fill:none;}</style></defs><title>circle--dash</title><path class="cls-1" d="M7.7,4.7a14.7,14.7,0,0,0-3,3.1L6.3,9A13.26,13.26,0,0,1,8.9,6.3Z"/><path class="cls-1" d="M4.6,12.3l-1.9-.6A12.51,12.51,0,0,0,2,16H4A11.48,11.48,0,0,1,4.6,12.3Z"/><path class="cls-1" d="M2.7,20.4a14.4,14.4,0,0,0,2,3.9l1.6-1.2a12.89,12.89,0,0,1-1.7-3.3Z"/><path class="cls-1" d="M7.8,27.3a14.4,14.4,0,0,0,3.9,2l.6-1.9A12.89,12.89,0,0,1,9,25.7Z"/><path class="cls-1" d="M11.7,2.7l.6,1.9A11.48,11.48,0,0,1,16,4V2A12.51,12.51,0,0,0,11.7,2.7Z"/><path class="cls-1" d="M24.2,27.3a15.18,15.18,0,0,0,3.1-3.1L25.7,23A11.53,11.53,0,0,1,23,25.7Z"/><path class="cls-1" d="M27.4,19.7l1.9.6A15.47,15.47,0,0,0,30,16H28A11.48,11.48,0,0,1,27.4,19.7Z"/><path class="cls-1" d="M29.2,11.6a14.4,14.4,0,0,0-2-3.9L25.6,8.9a12.89,12.89,0,0,1,1.7,3.3Z"/><path class="cls-1" d="M24.1,4.6a14.4,14.4,0,0,0-3.9-2l-.6,1.9a12.89,12.89,0,0,1,3.3,1.7Z"/><path class="cls-1" d="M20.3,29.3l-.6-1.9A11.48,11.48,0,0,1,16,28v2A21.42,21.42,0,0,0,20.3,29.3Z"/><rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-2" width="32" height="32"/></svg>-->
        <p tabindex="0" class="bx--progress-label" aria-describedby="tooltip-step-2">
          Step 2: Review generated rule<br><span class="step-text">Edit and save the business rule</span>
        </p>
        <div id="tooltip-step-2" role="tooltip" data-floating-menu-direction="bottom" class="bx--tooltip"
          data-avoid-focus-on-open>
          <span class="bx--tooltip__caret"></span>
          <p class="bx--tooltip__text">Step 2: In Progress</p>
        </div>
        <span class="bx--progress-line"></span>
      </li>
    </ul>

  </div>
  <div class="content-flow-body">
    <!-- Insert actual content flow UI or placeholder content here -->
    <div class="flow-content medium-cell-block-container"><div class="rule-image"><img src="/assets/img/rule.png"></div></div>
    <!--<div class="right-menu">
        <div class="header-menu">Select a variable usage <span class="bx--tag bx--tag--gray">
        <span class="bx--tag__label">2</span></span></div>
          

  <div class="bx--radio-button-wrapper">
    <input id="radio-1" class="bx--radio-button" type="radio" value="565-568" name="variable-usage" checked>
    <label for="radio-1" class="bx--radio-button__label">
      <span class="bx--radio-button__appearance"></span>
      <span class="bx--radio-button__label-text">
        565-568<br>
        <small>LGACDB01.cbl</small>
      </span>
    </label>
  </div>-->
  
  <!--<div class="bx--radio-button-wrapper">
    <input id="radio-2" class="bx--radio-button" type="radio" value="549-557" name="variable-usage">
    <label for="radio-2" class="bx--radio-button__label">
      <span class="bx--radio-button__appearance"></span>
      <span class="bx--radio-button__label-text">
        549-557<br>
        <small>LGACDB01.cbl</small>
      </span>
    </label>
  </div>-->





  
    </div>
  </div>
  <div class="content-footer">
    <div class="flow__cancel"> 
        <button class="bx--btn bx--btn--ghost content-flow-close" aria-label="Close flow">Cancel</button></div>
  <div class="flow_footer">
    <button class="bx--btn bx--btn--primary" type="button">
  Next
</button>
    <button class="bx--btn bx--btn--disabled" type="button">
  Previous
</button></div>
  </div>
</div><!-- Header Shell -->
<header class="bx--header" role="banner" aria-label="IBM Platform Name">
  <a class="bx--header__name" href="#">
    <span class="bx--header__name--prefix">IBM </span> watsonx Code Assistant for Z
  </a>

  <!-- Navigation -->
  <nav class="bx--header__nav" aria-label="Platform Name">

  </nav>

  <!-- Global Actions (e.g., search, notifications, user) -->
  <div class="bx--header__global">
    <button class="bx--header__action" aria-label="Search" type="button">
      <svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;"
        xmlns="http://www.w3.org/2000/svg" class="bx--header__menu-icon" width="20" height="20" viewBox="0 0 32 32">
        <path
          d="M30 28.6L21.4 20A11.9 11.9 0 0 0 24 12 12 12 0 1 0 12 24a11.9 11.9 0 0 0 8-2.6L28.6 30zM12 22a10 10 0 1 1 10-10 10 10 0 0 1-10 10z">
        </path>
      </svg>
    </button>
    <button id="ai-toggle" class="bx--header__action" aria-label="AI" type="button">
      <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
        <defs>
          <style>
            .cls-1 {
              fill: none;
            }

            .cls-1,
            .cls-2 {
              stroke-width: 0px;
            }
          </style>
        </defs>
        <path class="cls-2"
          d="m15,19l-1.4141,1.4141,3.5859,3.5859H4v-13h-2v13c0,1.1046.8954,2,2,2h13.1719l-3.5859,3.5859,1.4141,1.4141,6-6-6-6Z" />
        <path class="cls-2" d="m24,18v-2h2V4h-2v-2h6v2h-2v12h2v2h-6Z" />
        <path class="cls-2" d="m21,18h2l-5.5-16-3,.0088-5.5,15.9912h2l1.3333-4h7.3335l1.3333,4Zm-8-6l3-9,3,9h-6Z" />
        <rect id="_Transparent_Rectangle_" data-name="&amp;lt;Transparent Rectangle&amp;gt;" class="cls-1" width="20"
          height="20" transform="translate(32 32) rotate(180)" />
      </svg>
    </button>
    <button class="bx--header__action" aria-label="help" type="button">
      <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
        <defs>
          <style>
            .cls-1 {
              fill: none;
            }
          </style>
        </defs>
        <title>help</title>
        <path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,26A12,12,0,1,1,28,16,12,12,0,0,1,16,28Z" />
        <circle cx="16" cy="23.5" r="1.5" />
        <path
          d="M17,8H15.5A4.49,4.49,0,0,0,11,12.5V13h2v-.5A2.5,2.5,0,0,1,15.5,10H17a2.5,2.5,0,0,1,0,5H15v4.5h2V17a4.5,4.5,0,0,0,0-9Z" />
        <rect class="cls-1" width="20" height="20" />
      </svg>
    </button>
    <button class="bx--header__action" aria-label="User" type="button">
      <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
        <defs>
          <style>
            .cls-1 {
              fill: none;
            }
          </style>
        </defs>
        <title>user</title>
        <path d="M16,4a5,5,0,1,1-5,5,5,5,0,0,1,5-5m0-2a7,7,0,1,0,7,7A7,7,0,0,0,16,2Z" />
        <path d="M26,30H24V25a5,5,0,0,0-5-5H13a5,5,0,0,0-5,5v5H6V25a7,7,0,0,1,7-7h6a7,7,0,0,1,7,7Z" />
        <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32"
          height="32" />
      </svg></svg>
    </button>


  </div>
</header>

<div class="side-nav-icons" role="navigation" aria-label="Left Navigation">
  <button aria-label="Dashboard">
    <!-- Example icon: dashboard -->
    <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
      <defs>
        <style>
          .cls-1 {
            fill: none;
          }
        </style>
      </defs>
      <title>dashboard</title>
      <rect x="24" y="21" width="2" height="5" />
      <rect x="20" y="16" width="2" height="10" />
      <path d="M11,26a5.0059,5.0059,0,0,1-5-5H8a3,3,0,1,0,3-3V16a5,5,0,0,1,0,10Z" />
      <path
        d="M28,2H4A2.002,2.002,0,0,0,2,4V28a2.0023,2.0023,0,0,0,2,2H28a2.0027,2.0027,0,0,0,2-2V4A2.0023,2.0023,0,0,0,28,2Zm0,9H14V4H28ZM12,4v7H4V4ZM4,28V13H28.0007l.0013,15Z" />
      <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32"
        height="32" />
    </svg>
  </button>

  <button aria-label="Graph View">
    <!-- Example icon: flow model -->
    <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
      <defs>
        <style>
          .cls-1 {
            fill: none;
          }
        </style>
      </defs>
      <title>data-vis--3</title>
      <path
        d="M28,3a2.9913,2.9913,0,0,0-2.8163,2H21.858a3.9807,3.9807,0,0,0-7.716,0H9.858A3.9916,3.9916,0,1,0,5,9.858v4.284a3.9807,3.9807,0,0,0,0,7.716v3.3257a3,3,0,1,0,2,0V21.858a3.978,3.978,0,0,0,1.6729-.9034l3.3638,1.6819A2.9635,2.9635,0,0,0,12,23a3.0117,3.0117,0,1,0,.9221-2.1572L9.7744,19.269A3.95,3.95,0,0,0,10,18a3.9963,3.9963,0,0,0-3-3.858V9.858A3.9947,3.9947,0,0,0,9.858,7h4.284a3.9366,3.9366,0,0,0,4.7816,2.8818l1.8118,3.1705a3.0451,3.0451,0,1,0,1.7326-.9987L20.6893,8.941A3.9839,3.9839,0,0,0,21.858,7h3.3257A2.995,2.995,0,1,0,28,3ZM8,18a2,2,0,1,1-2-2A2.0023,2.0023,0,0,1,8,18ZM6,8A2,2,0,1,1,8,6,2.002,2.002,0,0,1,6,8ZM16,6a2,2,0,1,1,2,2A2.002,2.002,0,0,1,16,6Z"
        transform="translate(0 0)" />
      <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32"
        height="32" />
    </svg>
  </button>

  <button class="xactive" aria-label="Rule Tree">
    <!-- Example icon: decision tree -->
    <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
      <defs>
        <style>
          .cls-1 {
            fill: none;
          }

          .cls-1,
          .cls-2 {
            stroke-width: 0px;
          }
        </style>
      </defs>
      <path class="cls-2"
        d="m28,2v8h-4L16,2l-8,8h-4V2h-2v8c0,1.1025.8972,2,2,2h4l7,7v7.1719l-2.5859-2.5859-1.4141,1.4141,5,5,5-5-1.4141-1.4141-2.5859,2.5859v-7.1719l7-7h4c1.1028,0,2-.8975,2-2V2h-2Zm-12,15.1714l-6.1714-6.1714,6.1714-6.1714,6.1714,6.1714-6.1714,6.1714Z" />
      <rect id="_Transparent_Rectangle_" data-name="&amp;lt;Transparent Rectangle&amp;gt;" class="cls-1" width="32"
        height="32" />
    </svg>
  </button>

  <button aria-label="Table View">
    <!-- Example icon: table -->
    <svg id="icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
      <defs>
        <style>
          .cls-1 {
            fill: none;
          }
        </style>
      </defs>
      <title>data-table</title>
      <rect x="8" y="18" width="4" height="2" />
      <rect x="14" y="18" width="4" height="2" />
      <rect x="8" y="14" width="4" height="2" />
      <rect x="14" y="22" width="4" height="2" />
      <rect x="20" y="14" width="4" height="2" />
      <rect x="20" y="22" width="4" height="2" />
      <path
        d="M27,3H5A2.0025,2.0025,0,0,0,3,5V27a2.0025,2.0025,0,0,0,2,2H27a2.0025,2.0025,0,0,0,2-2V5A2.0025,2.0025,0,0,0,27,3Zm0,2,0,4H5V5ZM5,27V11H27l0,16Z" />
      <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32"
        height="32" />
    </svg>

  </button>
</div>
<!-- Page Content -->
<div id="content-wrapper">
  <Breadcrumb class="breadcrumb fixed-breadcrumb">
    <BreadcrumbItem href="/" class="breadcrumb-left"><a href="">Home</a> /</BreadcrumbItem>
    <BreadcrumbItem href="/"><a href="">GenApp</a></BreadcrumbItem>
    <!--<BreadcrumbItem href="/">Breadcrumb 3</BreadcrumbItem> -->
  </Breadcrumb>
  <div class="content-wrapper"></div>
  <div class="main-content">






    <h1 class="main-page-title">Business rules</h1><br>
    <!--<p>This content stays scrollable while the left nav stays pinned.</p>
    <p style="margin-top: 2000px;">Scroll down to test fixed nav.</p>-->
    <!-- Tabs Start-->
    <div class="bx--tabs" data-tabs="">
      <div class="bx--tabs-trigger" tabindex="0">
        <a class="bx--tabs-trigger-text" href="javascript:void(0)" tabindex="-1"></a> <svg aria-hidden="true"
          height="16" preserveaspectratio="xMidYMid meet" style="will-change: transform" viewbox="0 0 16 16" width="16"
          xmlns="http://www.w3.org/2000/svg">
          <path d="M8 11L3 6 3.7 5.3 8 9.6 12.3 5.3 13 6z"></path>
        </svg>
      </div>
      <ul class="bx--tabs__nav bx--tabs__nav" role="tablist">
        <li class="bx--tabs__nav-item " data-target=".tab-1-default" role="tab" aria-selected="true">
          <a aria-controls="2023" class="bx--tabs__nav-link" href="javascript:void(0)" id="tab-link-1-default"
            role="tab" tabindex="0">Business rules</a>
        </li>
        <li class="bx--tabs__nav-item bx--tabs__nav-item--selected" data-target=".tab-2-default" role="tab"
          aria-hidden="false" aria-selected="true">
          <a aria-controls="2025" class="bx--tabs__nav-link" href="javascript:void(0)" id="tab-link-2-default"
            role="tab" tabindex="0">Identify business rules</a>
        </li>
        <!--<li class="bx--tabs__nav-item" data-target=".tab-4-default" role="tab">
									<a aria-controls="2026" class="bx--tabs__nav-link" href="javascript:void(0)" id="tab-link-4-default" role="tab" tabindex="0">2026</a>
								</li>-->
      </ul>
    </div><!-- The markup below is for demonstration purposes only -->
    <div class="bx--tab-content ">
      <div aria-hidden="false" aria-labelledby="tab-link-1-default" class="tab-1-default" id="2023" role="tabpanel"
        hidden="false" aria-selected="true">
        <!-- Tab Content-->
        Business table will load with the new rule added
  
        <!-- Tab Content end-->
      </div>
      <div aria-hidden="false" aria-labelledby="tab-link-2-default" class="tab-2-default" id="2024" role="tabpanel">
        <!-- Tab Content-->
        <div class="bx--form-item" style="position: relative;">
  <label for="program-search" class="bx--label">Program Name</label>
  <input id="program-search" class="bx--text-input" type="text" placeholder="Enter program name" autocomplete="off" />

  <!-- Dropdown list -->
  <ul id="program-list" class="bx--list-box__menu" style="position: absolute; top: 70px; left: 0; right: 0; display: none; z-index: 9999;">
    <li class="bx--list-box__menu-item" data-program="LGUPDB01">LGUPDB01</li>
    <li class="bx--list-box__menu-item" data-program="LGUPOL01">LGUPOL01</li>
    <li class="bx--list-box__menu-item" data-program="LGZPOL01">LGZPOL01</li>
    <li class="bx--list-box__menu-item" data-program="LGAPOL01">LGAPOL01</li>
    <li class="bx--list-box__menu-item" data-program="LGUPVS01">LGUPVS01</li>
    <li class="bx--list-box__menu-item" data-program="LGBANK01">LGBANK01</li>
    <li class="bx--list-box__menu-item" data-program="LGCLAIM1">LGCLAIM1</li>
  </ul>

  <div id="tag-container" class="bx--form__helper-text" style="margin-top: 0.5rem;"></div>
</div>
        <!-- Tab Content end-->
        <!-- Empty state-->
        <div class="empty-state" id="empty-state"><img src="assets/img/empty.png"><br><br>
          <h3>No search results yet</h3><br>
          <p>Run a search to explore variables used across programs.<br>The most significant variables appear at the
            top, helping you quickly pinpoint strong candidates for identifying business rules.</p><br>
          <p class="empty-text">Need help getting started? Ask the <a href="chat assistant">chat assistant</a> to help
            you scope your search.</p>
        </div>
        <div class="table-layout">
          <!-- 
          Skeleton table no longer needed - we now use inline skeleton content in cells
          This file is kept as placeholder but contains no content
          -->          <div class="table-container-wrapper">
            <div class="table-scrollable-area">
          <div class="table-container" id="sample-table" class="force-hidden">
                      <!-- Table Toolbar -->
          
                      <!-- Table Actions -->
                      <section class="bx--table-toolbar">
                          <div class="bx--table-toolbar__content">
                              <!-- Search -->
                              <div class="bx--table-toolbar__search bx--toolbar-search-container-expandable">
                                  <div class="bx--search bx--search--sm" data-search role="search">
                                      <div class="bx--search-magnifier">
                                         <!--<svg class="bx--search-magnifier-icon" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="m15.5 13.12-3.99-3.99c.69-1.11 1.11-2.41 1.11-3.83 0-4.03-3.27-7.3-7.3-7.3C1.29-2 -2 1.27-2 5.3c0 4.03 3.27 7.3 7.3 7.3 1.42 0 2.72-.42 3.83-1.11l3.99 3.99c.18.18.43.29.71.29.28 0 .53-.11.71-.29.39-.39.39-1.02 0-1.41zM1.49 5.3c0-2.99 2.43-5.42 5.42-5.42S12.33 2.31 12.33 5.3s-2.43 5.42-5.42 5.42S1.49 8.29 1.49 5.3z"></path>
                                          </svg>-->
                                      </div>
                                      <label class="bx--label bx--visually-hidden" for="search-1">Search</label>
                                      <input class="bx--search-input" type="text" id="search-1" placeholder="Search table" autocomplete="off" />
                                      <button class="bx--search-close bx--search-close--hidden" type="button" aria-label="Clear search input">
                                          <svg class="bx--search-clear" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7z"></path>
                                          </svg>
                                      </button>
                                  </div>
                              </div>
                          </div>
                      </section>
          
                      <!-- Data Table -->
                      <table class="bx--data-table bx--data-table" data-table>
                          <thead>
                              <tr>
                                  <th class="twisty"></th>
                                  <th ><span class="ranked">Ranked variable</span></th>
                                  <th>Description</th>
                                  <th>Business term</th>
                                  <th>Source program</th>
                                  <th>Related variables</th>
                                  <th>Aliases</th>
                              </tr>
                          </thead>
                          <tbody id="table-body">
                              <!-- Row 1: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Policy Number Details</h5>
                                          <p>This field contains the unique policy number identifier used across the motor policy system.</p>
                                          <ul>
                                              <li><strong>Field Length:</strong> 15 characters</li>
                                              <li><strong>Format:</strong> Alphanumeric with dashes (XXX-XXXX-XXXX)</li>
                                              <li><strong>Validation:</strong> Required, Unique</li>
                                              <li><strong>Used in Programs:</strong> LGUPDB01.cbl</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 2: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Vehicle Type Classification</h5>
                                          <p>Defines the category and type of vehicle being insured under the motor policy.</p>
                                          <ul>
                                              <li><strong>Field Length:</strong> 3 characters</li>
                                              <li><strong>Valid Values:</strong> CAR, TRK, MOT, SUV, VAN</li>
                                              <li><strong>Default:</strong> CAR</li>
                                              <li><strong>Impact:</strong> Affects premium calculation and coverage options</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 3: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Premium Amount Calculation</h5>
                                          <p>The calculated premium amount for the motor policy based on risk factors and coverage options.</p>
                                          <ul>
                                              <li><strong>Field Format:</strong> 9999999.99 (Currency)</li>
                                              <li><strong>Calculation Logic:</strong> Base rate + Risk factors + Coverage adjustments</li>
                                              <li><strong>Validation:</strong> Must be greater than $0.00</li>
                                              <li><strong>Processing Program:</strong> LGUPDB01.cbl</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 4: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Discount Information</h5>
                                          <p>Amount of discount applied to the base premium based on various qualifying factors.</p>
                                          <ul>
                                              <li><strong>Field Format:</strong> 999999.99 (Currency)</li>
                                              <li><strong>Discount Types:</strong> Multi-policy, Safe driver, Good student, Senior</li>
                                              <li><strong>Maximum:</strong> 25% of base premium</li>
                                              <li><strong>Validation:</strong> Cannot exceed base premium amount</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 5: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Final Premium Amount</h5>
                                          <p>The final premium amount after all calculations, discounts, and adjustments have been applied.</p>
                                          <ul>
                                              <li><strong>Calculation:</strong> Base Premium - Discounts + Fees + Taxes</li>
                                              <li><strong>Payment Terms:</strong> Annual, Semi-annual, Quarterly, Monthly</li>
                                              <li><strong>Currency Format:</strong> USD with 2 decimal places</li>
                                              <li><strong>Billing Program:</strong> LGBILL01.cbl</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 6: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Policy Number Details</h5>
                                          <p>This field contains the unique policy number identifier used across the motor policy system.</p>
                                          <ul>
                                              <li><strong>Field Length:</strong> 15 characters</li>
                                              <li><strong>Format:</strong> Alphanumeric with dashes (XXX-XXXX-XXXX)</li>
                                              <li><strong>Validation:</strong> Required, Unique</li>
                                              <li><strong>Used in Programs:</strong> LGAPOL01.cbl, LGUPDB01.cbl</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 7: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Vehicle Type Classification</h5>
                                          <p>Defines the category and type of vehicle being insured under the motor policy.</p>
                                          <ul>
                                              <li><strong>Field Length:</strong> 3 characters</li>
                                              <li><strong>Valid Values:</strong> CAR, TRK, MOT, SUV, VAN</li>
                                              <li><strong>Default:</strong> CAR</li>
                                              <li><strong>Impact:</strong> Affects premium calculation and coverage options</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 8: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Premium Amount Calculation</h5>
                                          <p>The calculated premium amount for the motor policy based on risk factors and coverage options.</p>
                                          <ul>
                                              <li><strong>Field Format:</strong> 9999999.99 (Currency)</li>
                                              <li><strong>Calculation Logic:</strong> Base rate + Risk factors + Coverage adjustments</li>
                                              <li><strong>Validation:</strong> Must be greater than $0.00</li>
                                              <li><strong>Processing Program:</strong> LGUPDB01.cbl</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 9: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Discount Information</h5>
                                          <p>Amount of discount applied to the base premium based on various qualifying factors.</p>
                                          <ul>
                                              <li><strong>Field Format:</strong> 999999.99 (Currency)</li>
                                              <li><strong>Discount Types:</strong> Multi-policy, Safe driver, Good student, Senior</li>
                                              <li><strong>Maximum:</strong> 25% of base premium</li>
                                              <li><strong>Validation:</strong> Cannot exceed base premium amount</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
          
                              <!-- Row 10: Skeleton initially -->
                              <tr class="bx--parent-row" data-parent-row>
                                  <td class="bx--table-expand">
                                      <button class="bx--table-expand__button" type="button" title="Expand row" aria-label="Expand row" aria-expanded="false">
                                          <svg class="bx--table-expand__svg" width="16" height="16" viewBox="0 0 16 16">
                                              <path d="M8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                          </svg>
                                      </button>
                                  </td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                                  <td class="cell-content"><div class="bx--skeleton__text"></div></td>
                              </tr>
                              <tr class="bx--expandable-row bx--expandable-row--hidden" data-child-row>
                                  <td colspan="7">
                                      <div class="bx--data-table-expandable-content">
                                          <h5>Final Premium Amount</h5>
                                          <p>The final premium amount after all calculations, discounts, and adjustments have been applied.</p>
                                          <ul>
                                              <li><strong>Calculation:</strong> Base Premium - Discounts + Fees + Taxes</li>
                                              <li><strong>Payment Terms:</strong> Annual, Semi-annual, Quarterly, Monthly</li>
                                              <li><strong>Currency Format:</strong> USD with 2 decimal places</li>
                                              <li><strong>Billing Program:</strong> LGBILL01.cbl</li>
                                          </ul>
                                      </div>
                                  </td>
                              </tr>
                          </tbody>
                      </table>
          
                      <!-- Pagination -->
                      <div class="bx--pagination" data-pagination>
                          <div class="bx--pagination__left">
                              <label class="bx--pagination__text" for="select-1">Items per page:</label>
                              <div class="bx--select bx--select--inline bx--pagination__per-page-select">
                                  <select class="bx--select-input" id="select-1" data-items-per-page>
                                      <option class="bx--select-option" value="10" selected>10</option>
                                      <option class="bx--select-option" value="20">20</option>
                                      <option class="bx--select-option" value="30">30</option>
                                      <option class="bx--select-option" value="40">40</option>
                                      <option class="bx--select-option" value="50">50</option>
                                  </select>
                                  <svg class="bx--select__arrow" width="16" height="16" viewBox="0 0 16 16">
                                      <path d="m8 11L3 6l1-1 4 4 4-4 1 1-5 5z"></path>
                                  </svg>
                              </div>
                              <span class="bx--pagination__text">1–5 of 24 items</span>
                          </div>
                          <div class="bx--pagination__right bx--pagination--no-back">
                              <div class="bx--pagination__control-buttons">
                                  <button class="bx--pagination__button bx--pagination__button--backward bx--pagination__button--no-index" data-page-backward aria-label="Previous page" disabled>
                                      <svg class="bx--pagination__nav-arrow" width="16" height="16" viewBox="0 0 16 16">
                                          <path d="M5 8l5-5 .7.7L6.4 8l4.3 4.3-.7.7z"></path>
                                      </svg>
                                  </button>
                                  <label class="bx--pagination__text" for="page-number-input">
                                      <span class="bx--pagination__text">1</span>
                                      <span class="bx--pagination__text">of 3 pages</span>
                                  </label>
                                  <button class="bx--pagination__button bx--pagination__button--forward" data-page-forward aria-label="Next page">
                                      <svg class="bx--pagination__nav-arrow" width="16" height="16" viewBox="0 0 16 16">
                                          <path d="M11 8L6 3l-.7.7L9.6 8l-4.3 4.3.7.7z"></path>
                                      </svg>
                                  </button>
                              </div>
                          </div>
                      </div>
                  </div>
              </div></div></div>        </div>
        <!-- Empty state-->
        <!-- table content-->





        <!-- table content-->
      </div>
    </div><!-- Tabs end-->
  </div>
</div></div>
<!-- AI Chat Panel -->
<div id="chat-panel" class="chat-panel">
  <div class="chat-panel-header">
    <span>Chat with Watsonx Assistant</span>
    <button id="close-chat">&times;</button>
  </div>
  <div class="chat-panel-body" id="chat-body">


  </div>
  <div class="chat-panel-input">
    <input type="text" id="chat-input" placeholder="Type a message..." />
    <button id="send-message">Send</button>
  </div>
</div>
<div id="chat-panel" class="chat-panel">
  <div class="chat-panel-header">
    <span>Chat with Watsonx Assistant</span>
    <button id="close-chat">&times;</button>
  </div>
  <div class="chat-panel-body" id="chat-body"></div>
  <div class="chat-panel-input">
    <input type="text" id="chat-input" placeholder="Type a message..." />
    <button id="send-message">Send</button>
  </div>
</div>

<script src="assets/js/app.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const aiBtn = document.querySelector('button[aria-label="AI"]');
    const chatPanel = document.getElementById('chat-panel');
    const closeBtn = document.getElementById('close-chat');

    aiBtn.addEventListener('click', () => {
      chatPanel.classList.add('visible');
    });

    closeBtn.addEventListener('click', () => {
      chatPanel.classList.remove('visible');
    });
  });
</script>


</body>
</html>
